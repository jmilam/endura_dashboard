<script type="text/javascript">
	
	$(document).ready(function(){
		$('#tsm_name').focus();
		editSingleFieldForm("tsm", "Edit TSM", "tsmEditBtn", "tsm_settings");

		// $('.form_link').on('click', function(e){
		// 	e.preventDefault();
		// 	starting_row = $('#tsmTable tbody tr').length - 1
		// 	$('#tsmTable tbody tr:eq(' + starting_row + ')').before('<tr><td><input type="text" name="tsmname" placeholder="Enter TSM Name" class="form-control"></td><td><input type="submit" value="Submit", class="btn btn-sm btn-success pull-right"></td>')
			
		// });
			
	});
</script>

<div class="container">

	<table class="table table" id="tsmTable">
		<thead>
			<tr>
				<th colspan=3><%= link_to "<< Back", configurations_management_overview_index_path %></th>
			</tr>
			<tr>
				<th class="text-center active" colspan=3><%= @header %></th>
			</tr>
		</thead>
		<tbody>
			<% @tsms.each do |tsm| %>
				<tr>
					<td><%= tsm.name %></td>
					<td><div class="pull-right"><%= link_to "Edit", "#", class: "edit_tsm" %> | <%= link_to "Delete", configurations_tsm_setting_path(id: tsm.id), data: {confirm: 'Are you sure you want to delete this tsm?'}, method: :delete %></div></td>
					<td><%= hidden_field_tag :tsm_id, tsm.id %></td>
				</tr>
			<% end %>
			<tr>
				<%= render partial: 'configurations/form_partials/new_single_form', locals: {form_name: :tsm, btn_text: "Add TSM", form_placeholder: "Enter TSM Name"} %>
			</tr>
		</tbody>
	</table>
</div>